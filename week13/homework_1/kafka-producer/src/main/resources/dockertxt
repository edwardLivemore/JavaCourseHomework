docker run -d --name kafka1 --publish 9001:9001 --link zk1 --network mynet --ip 172.18.0.5  -e KAFKA_BROKER_ID=1  -e KAFKA_BROKER_LIST=172.18.0.5:9001,172.18.0.6:9002,172.18.0.7:9003  -e KAFKA_LOG_DIRS=/tmp/kafka/kafka-logs1 -e KAFKA_ZOOKEEPER_CONNECT=zk1:2181  -e KAFKA_ADVERTISED_HOST_NAME=172.18.0.5  -e KAFKA_ADVERTISED_PORT=9001  -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://172.18.0.5:9001  -e KAFKA_LISTENERS=PLAINTEXT://0.0.0.0:9001  -e ALLOW_PLAINTEXT_LISTENER=yes  -t bitnami/kafka
docker run -d --name kafka2 --publish 9002:9002 --link zk1 --network mynet --ip 172.18.0.6  -e KAFKA_BROKER_ID=2  -e KAFKA_BROKER_LIST=172.18.0.5:9001,172.18.0.6:9002,172.18.0.7:9003  -e KAFKA_LOG_DIRS=/tmp/kafka/kafka-logs2 -e KAFKA_ZOOKEEPER_CONNECT=zk1:2181  -e KAFKA_ADVERTISED_HOST_NAME=172.18.0.6  -e KAFKA_ADVERTISED_PORT=9002  -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://172.18.0.6:9002  -e KAFKA_LISTENERS=PLAINTEXT://0.0.0.0:9002  -e ALLOW_PLAINTEXT_LISTENER=yes  -t bitnami/kafka
docker run -d --name kafka3 --publish 9003:9003 --link zk1 --network mynet --ip 172.18.0.7  -e KAFKA_BROKER_ID=3  -e KAFKA_BROKER_LIST=172.18.0.5:9001,172.18.0.6:9002,172.18.0.7:9003  -e KAFKA_LOG_DIRS=/tmp/kafka/kafka-logs3 -e KAFKA_ZOOKEEPER_CONNECT=zk1:2181  -e KAFKA_ADVERTISED_HOST_NAME=172.18.0.7  -e KAFKA_ADVERTISED_PORT=9003  -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://172.18.0.7:9003  -e KAFKA_LISTENERS=PLAINTEXT://0.0.0.0:9003  -e ALLOW_PLAINTEXT_LISTENER=yes  -t bitnami/kafka

docker run -d --name zk1 --publish 2181:2181 --network mynet --ip 172.18.0.2 -t zookeeper:3.4.9
docker run -d --name zk2 --publish 2182:2181 --network mynet --ip 172.18.0.3 -t zookeeper:3.4.9
docker run -d --name zk3 --publish 2183:2181 --network mynet --ip 172.18.0.4 -t zookeeper:3.4.9












### docker run -d --name kafka1 --publish 9001:9001 --link zk1  -e KAFKA_BROKER_ID=1  -e KAFKA_BROKER_LIST=localhost:9001,localhost:9002,localhost:9003  -e KAFKA_LOG_DIRS=/tmp/kafka/kafka-logs1 -e KAFKA_ZOOKEEPER_CONNECT=zk1:2181    -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://localhost:9001  -e KAFKA_LISTENERS=PLAINTEXT://localhost:9001  -e ALLOW_PLAINTEXT_LISTENER=yes  -t bitnami/kafka
### docker run -d --name kafka2 --publish 9002:9001 --link zk1  -e KAFKA_BROKER_ID=2  -e KAFKA_BROKER_LIST=localhost:9001,localhost:9002,localhost:9003  -e KAFKA_LOG_DIRS=/tmp/kafka/kafka-logs2 -e KAFKA_ZOOKEEPER_CONNECT=zk1:2181    -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://localhost:9002  -e KAFKA_LISTENERS=PLAINTEXT://localhost:9002  -e ALLOW_PLAINTEXT_LISTENER=yes  -t bitnami/kafka
### docker run -d --name kafka3 --publish 9003:9001 --link zk1  -e KAFKA_BROKER_ID=3  -e KAFKA_BROKER_LIST=localhost:9001,localhost:9002,localhost:9003  -e KAFKA_LOG_DIRS=/tmp/kafka/kafka-logs3 -e KAFKA_ZOOKEEPER_CONNECT=zk1:2181    -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://localhost:9003  -e KAFKA_LISTENERS=PLAINTEXT://localhost:9003  -e ALLOW_PLAINTEXT_LISTENER=yes  -t bitnami/kafka


docker run -d --name kafka1 --publish 9001:9001 --link zk1  \
-e KAFKA_BROKER_ID=1  \
-e KAFKA_BROKER_LIST=localhost:9001,localhost:9002,localhost:9003  \
-e KAFKA_LOG_DIRS=/tmp/kafka/kafka-logs1 \
-e KAFKA_ZOOKEEPER_CONNECT=zk1:2181  \
-e KAFKA_ADVERTISED_HOST_NAME=localhost  \
-e KAFKA_ADVERTISED_PORT=9001  \
-e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://localhost:9001  \
-e KAFKA_LISTENERS=PLAINTEXT://0.0.0.0:9001  \
-e ALLOW_PLAINTEXT_LISTENER=yes  \
-t bitnami/kafka

docker run -d --name kafka2 --publish 9002:9002 --link zk1  \
-e KAFKA_BROKER_ID=2  \
-e KAFKA_BROKER_LIST=localhost:9001,localhost:9002,localhost:9003  \
-e KAFKA_LOG_DIRS=/tmp/kafka/kafka-logs2 \
-e KAFKA_ZOOKEEPER_CONNECT=zk1:2181  \
-e KAFKA_ADVERTISED_HOST_NAME=localhost  \
-e KAFKA_ADVERTISED_PORT=9002  \
-e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://localhost:9002  \
-e KAFKA_LISTENERS=PLAINTEXT://0.0.0.0:9002  \
-e ALLOW_PLAINTEXT_LISTENER=yes  \
-t bitnami/kafka

docker run -d --name kafka3 --publish 9003:9003 --link zk1  \
-e KAFKA_BROKER_ID=3  \
-e KAFKA_BROKER_LIST=localhost:9001,localhost:9002,localhost:9003  \
-e KAFKA_LOG_DIRS=/tmp/kafka/kafka-logs3 \
-e KAFKA_ZOOKEEPER_CONNECT=zk1:2181  \
-e KAFKA_ADVERTISED_HOST_NAME=localhost  \
-e KAFKA_ADVERTISED_PORT=9003  \
-e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://localhost:9003  \
-e KAFKA_LISTENERS=PLAINTEXT://0.0.0.0:9003  \
-e ALLOW_PLAINTEXT_LISTENER=yes  \
-t bitnami/kafka